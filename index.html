<!DOCTYPE html>

<html>
<head>
    <title>Pato.design</title>
    <meta charset="UTF-8">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<html ng-app="portfolio">
            <br>
        <br>
    <div class="well">
        <div class="container">
            <h1 class="title-uno titles">Patricio Bustos</h1>
            <h1 class="title-dos titles">UX designer <b>/</b> UI Developer</h1>
            <h1 class="title-tres titles">Based on MÃ©xico City</h1>
        </div>

    </div>

<div class="container" id="tourpackages-carousel">
      <h2 class="title2 title-dos">Last projects</h2>
      <br>
      <div class="row" ng-controller="portfolioCtrl">

        <div  ng-repeat="project in behance | limitTo:12" class="col-xs-18 col-sm-6 col-md-4">
          <div class="thumbnail">
              <div class="image-portfolio">
                <a target="_blank" href="{{ project.url }}">
                    <img ng-src="{{ project.covers.original }}" alt="{{ project.name }}">
                </a>
              </div>

              <div class="caption">
                <h4>{{ project.name }}</h4>
                <p>{{ project.fields[0] }}</p>
                <p><a href="{{ project.url }}" target="_blank" class="btn btn-info btn-xs" role="button">View project</a></p>
            </div>
          </div>
        </div>
      </div><!-- End row -->
      
    </div><!-- End container -->


<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script>
    var app = angular.module('portfolio', []);

        app.controller('portfolioCtrl', function($scope, portfolioFactory) {
        
        portfolioFactory.getBehance().then(function onFulfilled(data){
            $scope.behance = data;
            $scope.behanceLoaded = true;
        }).catch(function onRejected() {
            console.log('Error in Behance Factory');
        });

        });

        app.factory('portfolioFactory', function($http) {  

        var getBehance = function() {
            var user = '302bis';
            var apiKey = 'Hm5zPFZIvedf9oxj02P9wj1Jplne5U2J';
            return $http.jsonp('https://behance.net/v2/users/'+ user +'/projects?api_key='+ apiKey + '&callback=JSON_CALLBACK').then(function onFulfilled(response) {
                return response.data.projects;
            });
        };


        return { 
            getBehance: getBehance
        };

        });
</script>
</body>
</html>